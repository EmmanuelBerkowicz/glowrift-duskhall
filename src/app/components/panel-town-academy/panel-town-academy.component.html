@let chosen = selectedSkill();

<div class="flex flex-row gap-2 h-full">
  <div class="flex-1 flex flex-col h-full">
    <app-panel-town-building-upgrade
      [building]="'Academy'"
    ></app-panel-town-building-upgrade>
  </div>

  <div class="flex-1 card bg-base-100 foreground shadow-xl h-full">
    <div class="card-body">
      <div class="card-title">Selected Skill</div>

      @if (!chosen) {
        <app-blank-slate>Choose a skill</app-blank-slate>
      }

      @if (chosen) {
        <app-stats-skill [skill]="chosen"></app-stats-skill>
      }
    </div>
  </div>

  <div class="flex-1 card bg-base-100 foreground shadow-xl">
    <div class="card-body">
      <div class="card-title">Actions</div>

      @if (!chosen) {
        <app-blank-slate>Choose a skill</app-blank-slate>
      }

      @if (chosen) {}
    </div>
  </div>
</div>

<app-card-page height="370px" *teleportTo="'panel-town'">
  <span header>Choose Skill To Upgrade</span>

  <app-inventory-grid-container
    [allowedItemTypes]="['skill']"
    (skillClicked)="selectedSkill.set($event)"
    [allowItemClicks]="true"
    [containerHeight]="220"
    [disabledSkillIds]="chosen ? [chosen.id] : []"
  ></app-inventory-grid-container>
</app-card-page>
