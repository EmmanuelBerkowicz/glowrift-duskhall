<div class="game-container relative">
  <app-game-map-pixi class="absolute inset-0 map-layer"></app-game-map-pixi>

  @if (showOptions()) {
    <div class="absolute inset-0 p-8">
      <app-panel-options
        class="absolute inset-0 panel-layer"
      ></app-panel-options>
    </div>
  }

  @if (showHeroes()) {
    <div class="absolute inset-0 p-8">
      <app-panel-heroes class="absolute inset-0 panel-layer"></app-panel-heroes>
    </div>
  }

  @if (showInventory()) {
    <div class="absolute inset-0 p-8">
      <app-panel-inventory
        class="absolute inset-0 panel-layer"
      ></app-panel-inventory>
    </div>
  }

  @if (showCombat()) {
    <div class="absolute inset-0 p-8">
      <app-panel-combat class="absolute inset-0 panel-layer"></app-panel-combat>
    </div>
  }

  @if (showTown()) {
    <div class="absolute inset-0 p-8">
      <app-panel-town class="absolute inset-0 panel-layer"></app-panel-town>
    </div>
  }

  @if (showLocation(); as location) {
    <div class="absolute inset-0 p-8">
      <app-panel-location
        class="absolute inset-0 panel-layer"
        [location]="location"
      ></app-panel-location>
    </div>
  }
</div>

@if (isCatchingUp()) {
  <div
    class="absolute top-[40px] left-0 z-100 w-full h-full flex justify-center items-center"
  >
    <div class="card bg-base-100 shadow-xl my-4 page-card mx-auto">
      <div class="card-body flex flex-row">
        <span class="loading loading-spinner loading-sm"></span>
        Catching up...
      </div>
    </div>
  </div>
}
